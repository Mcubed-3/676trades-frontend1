<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Caribbean Covenant — Dashboard</title>
  <meta name="description" content="Community dashboard for Caribbean Covenant." />
  <link rel="stylesheet" href="styles.css"/>

  <style>
    /* Page-only additions */
    .badge.live { background:#16a34a; color:white; }
    .badge.dead { background:#f59e0b; color:black; }

    .heroBanner{
      border:1px solid rgba(255,255,255,0.10);
      background: radial-gradient(900px 500px at 20% 0%, rgba(79,124,255,.15), transparent 60%),
                  radial-gradient(900px 500px at 90% 20%, rgba(34,197,94,.10), transparent 55%),
                  rgba(11,21,40,0.62);
      border-radius:18px;
      padding:16px 16px;
      margin-top:18px;
    }
    .heroBanner h1{ margin:0 0 6px 0; font-size: 26px; letter-spacing:-.3px; }
    .heroBanner .sub{ opacity:.85; font-size:13px; line-height:1.4; max-width: 85ch; }

    .pillRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .pill{
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      padding: 7px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 900;
      opacity: .95;
    }

    .grid3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }
    @media (max-width: 900px){ .grid3{ grid-template-columns: 1fr; } }

    .miniCard{
      border:1px solid var(--border);
      background:#0b1528;
      border-radius:16px;
      padding:14px;
    }
    .miniCard h3{ margin:0 0 6px 0; font-size:16px; }
    .miniCard p{ margin:0; opacity:.85; font-size: 13px; line-height: 1.45; }

    .sectionTitle{
      display:flex; align-items:flex-end; justify-content:space-between; gap:10px;
      margin-bottom:10px;
    }
    .sectionTitle h2{ margin:0; }
    .sectionTitle .small{ opacity:.75; font-size:12px; }

    .btnRow{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; }
    a.btnLike{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:12px 14px;border-radius:12px;border:1px solid var(--border);
      background:rgba(255,255,255,0.04);color:var(--text);text-decoration:none;font-weight:900;
    }
    a.btnLike:hover{ background: rgba(255,255,255,0.06); }
    a.btnLike.primary{
      background: rgba(79,124,255,0.14);
      border-color: rgba(79,124,255,0.35);
    }
    a.btnLike.primary:hover{
      background: rgba(79,124,255,0.18);
      border-color: rgba(79,124,255,0.55);
    }

    .promptBox{
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      border-radius: 16px;
      padding: 14px;
    }
    .promptBox .label{ font-size:12px; opacity:.75; font-weight:900; text-transform:uppercase; letter-spacing:.4px; }
    .promptBox .prompt{ margin-top:8px; font-size:14px; line-height:1.5; font-weight:800; }
    .promptBox .hint{ margin-top:8px; opacity:.8; font-size:12px; line-height:1.35; }

    .callout{
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(245,158,11,0.07);
      border-radius: 16px;
      padding: 12px 14px;
      margin-top: 12px;
      font-size: 13px;
      line-height: 1.45;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- NAV -->
    <div class="nav">
      <div>
        <b>Caribbean Covenant</b>
        <div style="opacity:.75;font-size:12px;margin-top:2px;">Christ-centered marriage community</div>
      </div>

      <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;">
        <a href="/index.html">Home</a>
        <a href="/community-guidelines.html">Guidelines</a>
        <a href="/account2.html">Profile</a>
        <a href="/contact.html">Contact</a>
        <a href="#" onclick="logout()">Logout</a>
      </div>
    </div>

    <!-- HERO -->
    <div class="heroBanner">
      <h1>Welcome back</h1>
      <div class="sub">
        Community first. Courtship with clarity. Covenant as the goal.<br/>
        This is a calm space for Caribbean Christian singles who desire marriage — built on respect, safety, and faith-led connection.
      </div>

      <div class="pillRow">
        <span class="pill">Respect</span>
        <span class="pill">Safety</span>
        <span class="pill">Marriage-focused</span>
        <span class="pill">Groups</span>
        <span class="pill">Guided prompts</span>
      </div>
    </div>

    <!-- PROFILE + NEXT STEPS -->
    <div class="card">
      <div class="sectionTitle">
        <h2>Your next steps</h2>
        <div class="small">Start small. No pressure.</div>
      </div>

      <div class="grid3">
        <div class="miniCard">
          <h3>1) Complete your profile</h3>
          <p>
            Add a photo (optional at first), a short faith statement, and what you’re looking for in a Christ-centered marriage.
          </p>
          <div class="btnRow">
            <a class="btnLike primary" href="/account2.html">Go to Profile</a>
          </div>
        </div>

        <div class="miniCard">
          <h3>2) Join a group</h3>
          <p>
            Groups remove intimidation. You can socialize naturally before private conversations.
          </p>
          <div class="btnRow">
            <a class="btnLike" href="#groups">See groups</a>
          </div>
        </div>

        <div class="miniCard">
          <h3>3) Start with a prompt</h3>
          <p>
            If messaging feels awkward, use a conversation prompt to help you engage with depth and clarity.
          </p>
          <div class="btnRow">
            <a class="btnLike" href="#prompts">Get a prompt</a>
          </div>
        </div>
      </div>

      <div class="callout">
        <b>Gentle reminder:</b> This platform does not reward “flashy” lifestyles. You don’t need to impress.
        Be sincere, be respectful, and move with intention.
      </div>
    </div>

    <!-- GROUPS (STATIC PLACEHOLDER UI FOR NOW) -->
    <div class="card" id="groups">
      <div class="sectionTitle">
        <h2>Groups</h2>
        <div class="small">Community before coupling</div>
      </div>

      <div class="row">
        <div>
          <label style="margin-top:0;">Suggested groups</label>
          <div class="miniCard">
            <h3>Christian Singles — Jamaica</h3>
            <p>Faith-centered discussion for singles in Jamaica. Calm conversation, no pressure.</p>
            <div class="btnRow">
              <button class="secondary" disabled title="Coming soon">Join (coming soon)</button>
            </div>
          </div>

          <div class="miniCard" style="margin-top:12px;">
            <h3>Caribbean Diaspora — UK / Canada / US</h3>
            <p>For Caribbean Christians abroad who want shared culture and shared faith.</p>
            <div class="btnRow">
              <button class="secondary" disabled title="Coming soon">Join (coming soon)</button>
            </div>
          </div>
        </div>

        <div>
          <label style="margin-top:0;">Growth & marriage prep</label>
          <div class="miniCard">
            <h3>Prayer & Discernment</h3>
            <p>Discussion prompts focused on wisdom, peace, and discernment in relationships.</p>
            <div class="btnRow">
              <button class="secondary" disabled title="Coming soon">Join (coming soon)</button>
            </div>
          </div>

          <div class="miniCard" style="margin-top:12px;">
            <h3>Preparing for Marriage</h3>
            <p>Conversations on communication, boundaries, family, finances, and purpose.</p>
            <div class="btnRow">
              <button class="secondary" disabled title="Coming soon">Join (coming soon)</button>
            </div>
          </div>
        </div>
      </div>

      <div class="small" style="margin-top:12px;">
        Groups will be fully interactive once we wire the community features. For now, this dashboard sets the structure and tone.
      </div>
    </div>

    <!-- PROMPTS -->
    <div class="card" id="prompts">
      <div class="sectionTitle">
        <h2>Conversation prompt</h2>
        <div class="small">Optional — designed to reduce awkwardness</div>
      </div>

      <div class="promptBox">
        <div class="label">Prompt of the moment</div>
        <div id="promptText" class="prompt">Loading prompt…</div>
        <div class="hint">
          Use this in a group thread or private chat. If it doesn’t fit, tap “New prompt”.
        </div>

        <div class="btnRow">
          <button id="newPromptBtn">New prompt</button>
          <button id="copyPromptBtn" class="secondary">Copy</button>
        </div>

        <div id="promptMsg" class="toast"></div>
      </div>
    </div>

    <!-- SAFETY -->
    <div class="card">
      <div class="sectionTitle">
        <h2>Safety</h2>
        <div class="small">Protecting peace is part of the mission</div>
      </div>

      <div class="row">
        <div class="miniCard">
          <h3>Boundaries are respected</h3>
          <p>
            No pressure, no coercion, no sexual content. If someone is not interested, accept it and move on respectfully.
          </p>
        </div>

        <div class="miniCard">
          <h3>Need help?</h3>
          <p>
            Read the guidelines or contact support if something feels unsafe.
          </p>
          <div class="btnRow">
            <a class="btnLike" href="/community-guidelines.html">Read guidelines</a>
            <a class="btnLike primary" href="/contact.html">Contact</a>
          </div>
        </div>
      </div>

      <div class="small" style="margin-top:12px;">
        This platform is not an emergency service. If you are in immediate danger, contact local emergency services.
      </div>
    </div>

  </div>

  <footer class="footer">
    <div class="footer-inner">
      <span>© <span id="yr"></span> Caribbean Covenant</span>
      <span class="dot">·</span>
      <a href="/terms.html">Terms</a>
      <span class="dot">·</span>
      <a href="/privacy.html">Privacy</a>
      <span class="dot">·</span>
      <a href="/community-guidelines.html">Guidelines</a>
      <span class="dot">·</span>
      <a href="/contact.html">Contact</a>
    </div>
  </footer>

  <script>
    (function(){
      var el = document.getElementById("yr");
      if(el) el.textContent = new Date().getFullYear();
    })();

    // Require login if your app.js provides getAccessToken()
    (function requireLoginSafe(){
      try{
        if(typeof getAccessToken === "function"){
          if(!getAccessToken()){
            window.location.href="/login.html?m=login";
          }
        }
      }catch(e){}
    })();

    // Local prompts (no backend required yet)
    const PROMPTS = [
      "What does a Christ-centered marriage mean to you in everyday life?",
      "How do you like to handle conflict in a respectful and healthy way?",
      "What values do you want your home to be built on?",
      "How do you practice your faith throughout the week?",
      "What does accountability look like to you in a relationship?",
      "How do you balance purpose, work, and family in your future?",
      "What boundaries help you date with peace and clarity?",
      "What role should prayer play in courtship and decision-making?",
      "What is something God has been teaching you recently?",
      "How do you want to communicate during stressful seasons?"
    ];

    function pickRandomPrompt(){
      return PROMPTS[Math.floor(Math.random() * PROMPTS.length)];
    }

    const promptText = document.getElementById("promptText");
    const promptMsg = document.getElementById("promptMsg");

    function setPrompt(){
      const p = pickRandomPrompt();
      promptText.textContent = p;
      promptMsg.textContent = "";
    }

    document.getElementById("newPromptBtn").onclick = () => setPrompt();

    document.getElementById("copyPromptBtn").onclick = async () => {
      try{
        await navigator.clipboard.writeText(promptText.textContent || "");
        promptMsg.textContent = "Prompt copied.";
      }catch(e){
        promptMsg.textContent = "Could not copy. Please copy manually.";
      }
    };

    // Init prompt
    setPrompt();
  </script>

  <script src="app.js"></script>
</body>
</html>
